{% extends 'main/layoutMain.html' %}

{% block title %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –ê–≤—Ç–æ—à–∫–æ–ª–∞ –û–Ω–ª–∞–π–Ω{% endblock %}

{% block content %}
<h1 class="text-center">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
<div class="row justify-content-center">
    <div class="col-md-4">
        <form method="post">
            {% csrf_token %}

            <!-- –û–±—â–∏–µ –æ—à–∏–±–∫–∏ —Ñ–æ—Ä–º—ã -->
            {% if form.errors %}
                <div class="alert alert-danger">
                    <strong>–û—à–∏–±–∫–∞!</strong> –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –æ—à–∏–±–∫–∏:
                    <ul>
                        {% for field, errors in form.errors.items %}
                            {% for error in errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}

            <!-- –ü–æ–ª–µ "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" -->
            <div class="mb-3">
                <label for="username" class="form-label">–ü–æ—á—Ç–∞</label>
                <input type="text" name="username" id="username" class="form-control" value="{{ form.username.value|default_if_none:'' }}">
                {% if form.username.errors %}
                    <div class="text-danger">
                        {% for error in form.username.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            {# –í–≤–æ–¥ –ø–∞—Ä–æ–ª—è  Ô∏è‚Äç#}
                                    <div class="mb-3">
                <label for="password1" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                <div class="password-toggle">
                    <input type="password" name="password1" id="password1" class="form-control">
                    <span class="password-toggle-icon" onclick="togglePassword('password1')">üëÅÔ∏è</span> <!-- –≠–º–æ–¥–∑–∏ –≥–ª–∞–∑–∞ -->
                </div>
                {% if form.password1.errors %}
                    <div class="text-danger">
                        {% for error in form.password1.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="mb-3">
                <label for="password2" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
                <div class="password-toggle">
                    <input type="password" name="password2" id="password2" class="form-control">
                    <span class="password-toggle-icon" onclick="togglePassword('password2')">üëÅÔ∏è</span> <!-- –≠–º–æ–¥–∑–∏ –≥–ª–∞–∑–∞ -->
                </div>
                {% if form.password2.errors %}
                    <div class="text-danger">
                        {% for error in form.password2.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <script>
                function togglePassword(inputId) {
                    const input = document.getElementById(inputId);
                    if (input.type === 'password') {
                        input.type = 'text';
                    } else {
                        input.type = 'password';
                    }
                }
            </script>

            <style>
                .password-toggle {
                    position: relative;
                    display: flex;
                    align-items: center;
                }
                .password-toggle-icon {
                    position: absolute;
                    right: 10px;
                    cursor: pointer;
                    user-select: none;
                    font-size: 1.2em; /* –†–∞–∑–º–µ—Ä —ç–º–æ–¥–∑–∏ */
                }
                .password-toggle-icon:hover {
                    opacity: 0.8;
                }
            </style>
            {# –í–≤–æ–¥ –ø–∞—Ä–æ–ª—è #}
            <!-- –ü–æ–ª–µ "–ò–º—è" -->
            <div class="mb-3">
                <label for="first_name" class="form-label">–ò–º—è</label>
                <input type="text" name="first_name" id="first_name" class="form-control" value="{{ form.first_name.value|default_if_none:'' }}">
                {% if form.first_name.errors %}
                    <div class="text-danger">
                        {% for error in form.first_name.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- –ü–æ–ª–µ "–§–∞–º–∏–ª–∏—è" -->
            <div class="mb-3">
                <label for="last_name" class="form-label">–§–∞–º–∏–ª–∏—è</label>
                <input type="text" name="last_name" id="last_name" class="form-control" value="{{ form.last_name.value|default_if_none:'' }}">
                {% if form.last_name.errors %}
                    <div class="text-danger">
                        {% for error in form.last_name.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- –ü–æ–ª–µ "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" -->
            <div class="mb-3">
                <label for="phone_number" class="form-label">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                <input type="text" name="phone_number" id="phone_number" class="form-control" value="{{ form.phone_number.value|default_if_none:'' }}">
                {% if form.phone_number.errors %}
                    <div class="text-danger">
                        {% for error in form.phone_number.errors %}
                            {{ error }}
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <button type="submit" class="btn btn-dark w-100">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
        <div class="mt-3 text-center">
            <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="{% url 'login' %}">–í–æ–π–¥–∏—Ç–µ</a></p>
        </div>
    </div>
</div>
{% endblock %}